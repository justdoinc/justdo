---
description: Guidelines for updating Cursor rules for the Community Edition
globs: ["**/update-justdo-ce-repository.bash", "**/utils/justdo-open-source/**/*", "**/.cursor/rules/**/*", "**/.cursorrules"]
alwaysApply: false
---
# CE Rules Update Guidelines

## Overview

The JustDo codebase maintains rules for AI assistants, and these rules need to be properly propagated to the Community Edition (CE) version.

## How Rules Work in CE

The Community Edition version of the rules is created during the `./development-helpers.bash update-open-source` process, which:

1. Copies the original `.cursorrules` from `justdo` to the CE repository (for legacy compatibility)
2. Applies path transformations using `sed` operations
3. Copies the `.cursor/rules` directory structure, with special handling for structure-specific content
4. The script uses the CE-specific version of the structure file (`02-structure-ce.md`) instead of the standard one

## Current Path Transformations

The script currently makes the following replacements:

1. `justdo` → `justdo` (repository root name)
2. `justdo/nodes/justdo-web-landing-app/justdo-landing-app` → `justdo/modules/justdo-landing-app-ce`
3. `justdo/nodes/justdo-web-app/justdo-web-app` → `justdo/modules/justdo-web-app-ce`

## When to Update the Script

You should review `utils/justdo-open-source/update-justdo-ce-repository.bash` when:

1. **Path Changes**: If you add new paths to rules that reference repository-specific locations
2. **Structure Changes**: If you substantially reorganize the rules structure
3. **CE-specific Content**: If any content needs to be specifically altered for the CE version
4. **New Rules Files**: If you create new rule files that need special handling

## Making CE-Specific Rule Files

For rule files that require different content in CE:

1. Create a file with `-ce` suffix (e.g., `02-structure-ce.md`)
2. Update the script to use this file in place of the standard version
3. Ensure the content makes sense from the CE perspective (paths, references, etc.)

## Testing Changes

After updating rules or the transformation script:

1. Run `./development-helpers.bash update-open-source`
2. Examine the resulting rules files in `modules/justdo-ce/.cursor/rules/`
3. Verify that all paths and content make sense in the CE context
4. Check that the special handling for structure-specific content worked properly
